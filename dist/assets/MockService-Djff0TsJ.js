import{e as at,T as gn}from"./monaco-editor-D6KFlyNG.js";import{P as pn}from"./PageLayout-DTTcbtkn.js";import{a as Me,q as Ne,r as F,S as Be,v as Qt,T as Ae,i as nt,b as Q,f,g as S,t as q,w as C,U as Pt,u as E,A as zt,E as Zt,L as mn,h as J,M as vn,V as ot,W as ke,X as V,y as Te,B as K,_ as Ie,Y as me,o as yn,c as ve,e as Nt,Z as wn,z as Bt,D as Cn,K as x,n as bn,$ as _n,P as Sn,H as En,a0 as ye}from"./index-Buc8SEyh.js";import{a as mt}from"./index-Dq7h7Pqt.js";function Ut(t){if(it(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],o=ut(s)?Bn(s):Ut(s);if(o)for(const r in o)e[r]=o[r]}return e}else if(ut(t)||xt(t))return t}const Mn=/;(?![^(]*\))/g,Nn=/:(.+)/;function Bn(t){const e={};return t.split(Mn).forEach(n=>{if(n){const s=n.split(Nn);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function re(t){let e="";if(ut(t))e=t;else if(it(t))for(let n=0;n<t.length;n++){const s=re(t[n]);s&&(e+=s+" ")}else if(xt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const An=[],kn=()=>{},Tn=/^on[^a-z]/,In=t=>Tn.test(t),Le=Object.assign,it=Array.isArray,pt=t=>typeof t=="function",ut=t=>typeof t=="string",Ln=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object";let Rn;function Pn(t,e=Rn){e&&e.active&&e.effects.push(t)}const zn=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Re=t=>(t.w&rt)>0,Pe=t=>(t.n&rt)>0,xn=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=rt},Fn=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const o=e[s];Re(o)&&!Pe(o)?o.delete(t):e[n++]=o,o.w&=~rt,o.n&=~rt}e.length=n}};let vt=0,rt=1;const Xt=30;let Z;class On{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Pn(this,s)}run(){if(!this.active)return this.fn();let e=Z,n=Tt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Z,Z=this,Tt=!0,rt=1<<++vt,vt<=Xt?xn(this):we(this),this.fn()}finally{vt<=Xt&&Fn(this),rt=1<<--vt,Z=this.parent,Tt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Z===this?this.deferStop=!0:this.active&&(we(this),this.onStop&&this.onStop(),this.active=!1)}}function we(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Tt=!0;function Un(t,e){let n=!1;vt<=Xt?Pe(t)||(t.n|=rt,n=!Re(t)):n=!t.has(Z),n&&(t.add(Z),Z.deps.push(t))}function Vn(t,e){const n=it(t)?t:[...t];for(const s of n)s.computed&&Ce(s);for(const s of n)s.computed||Ce(s)}function Ce(t,e){(t!==Z||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ln));function ze(t){return xe(t)?ze(t.__v_raw):!!(t&&t.__v_isReactive)}function xe(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return ze(t)||xe(t)}function Vt(t){const e=t&&t.__v_raw;return e?Vt(e):t}function $n(t){Tt&&Z&&(t=Vt(t),Un(t.dep||(t.dep=zn())))}function Jn(t,e){t=Vt(t),t.dep&&Vn(t.dep)}function Oe(t){return!!(t&&t.__v_isRef===!0)}function jn(t){const e=it(t)?new Array(t.length):{};for(const n in t)e[n]=Hn(t,n);return e}class Dn{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Hn(t,e,n){const s=t[e];return Oe(s)?s:new Dn(t,e,n)}class Kn{constructor(e,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new On(e,()=>{this._dirty||(this._dirty=!0,Jn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const e=Vt(this);return $n(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function qn(t,e,n=!1){let s,o;const r=pt(t);return r?(s=t,o=kn):(s=t.get,o=t.set),new Kn(s,o,r||!o,n)}let It=null,Yn=null;const Wn=t=>t.__isSuspense;function Gn(t){return pt(t)?{setup:t,name:t.name}:t}const Qn=Symbol(),Zn=t=>t.__isTeleport,Ue=Symbol(void 0),Xn=Symbol(void 0),to=Symbol(void 0),Lt=[];let W=null;function eo(t=!1){Lt.push(W=t?null:[])}function no(){Lt.pop(),W=Lt[Lt.length-1]||null}function oo(t){return t.dynamicChildren=W||An,no(),W&&W.push(t),t}function so(t,e,n,s,o,r){return oo(Je(t,e,n,s,o,r,!0))}function ro(t){return t?t.__v_isVNode===!0:!1}const Ve="__vInternal",$e=({key:t})=>t??null,Rt=({ref:t,ref_key:e,ref_for:n})=>t!=null?ut(t)||Oe(t)||pt(t)?{i:It,r:t,k:e,f:!!n}:t:null;function Je(t,e=null,n=null,s=0,o=null,r=t===Ue?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$e(e),ref:e&&Rt(e),scopeId:Yn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(ie(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=ut(n)?8:16),!i&&W&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&W.push(l),l}const io=lo;function lo(t,e=null,n=null,s=0,o=null,r=!1){if((!t||t===Qn)&&(t=to),ro(t)){const a=te(t,e,!0);return n&&ie(a,n),!r&&W&&(a.shapeFlag&6?W[W.indexOf(t)]=a:W.push(a)),a.patchFlag|=-2,a}if(ho(t)&&(t=t.__vccOpts),e){e=ao(e);let{class:a,style:l}=e;a&&!ut(a)&&(e.class=re(a)),xt(l)&&(Fe(l)&&!it(l)&&(l=Le({},l)),e.style=Ut(l))}const i=ut(t)?1:Wn(t)?128:Zn(t)?64:xt(t)?4:pt(t)?2:0;return Je(t,e,n,s,o,i,r,!0)}function ao(t){return t?Fe(t)||Ve in t?Le({},t):t:null}function te(t,e,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=t,a=e?co(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&$e(a),ref:e&&e.ref?n&&o?it(o)?o.concat(Rt(e)):[o,Rt(e)]:Rt(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:i,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&te(t.ssContent),ssFallback:t.ssFallback&&te(t.ssFallback),el:t.el,anchor:t.anchor}}function uo(t=" ",e=0){return io(Xn,null,t,e)}function ie(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(it(e))n=16;else if(typeof e=="object")if(s&65){const o=e.default;o&&(o._c&&(o._d=!1),ie(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Ve in e)&&(e._ctx=It)}else pt(e)?(e={default:e,_ctx:It},n=32):(e=String(e),s&64?(n=16,e=[uo(e)]):n=8);t.children=e,t.shapeFlag|=n}function co(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(o==="class")e.class!==s.class&&(e.class=re([e.class,s.class]));else if(o==="style")e.style=Ut([e.style,s.style]);else if(In(o)){const r=e[o],i=s[o];i&&r!==i&&!(it(r)&&r.includes(i))&&(e[o]=r?[].concat(r,i):i)}else o!==""&&(e[o]=s[o])}return e}let fo=!1;function ho(t){return pt(t)&&"__vccOpts"in t}const go=(t,e)=>qn(t,e,fo),po=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},mo=Gn({name:"MonacoEditor",props:{diffEditor:{type:Boolean,default:!1},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},original:String,value:String,language:{type:String,default:"javascript"},theme:{type:String,default:"vs"},options:{type:Object,default(){return{}}}},emits:["editorWillMount","editorDidMount","change","update:value"],setup(t){const{width:e,height:n}=jn(t);return{style:go(()=>{const s=e.value.toString().includes("%")?e.value:`${e.value}px`,o=n.value.toString().includes("%")?n.value:`${n.value}px`;return{width:s,height:o,"text-align":"left"}})}},mounted(){this.initMonaco()},beforeUnmount(){this.editor&&this.editor.dispose()},methods:{initMonaco(){this.$emit("editorWillMount",gn);const{value:t,language:e,theme:n,options:s}=this;this.editor=at[this.diffEditor?"createDiffEditor":"create"](this.$el,{value:t,language:e,theme:n,...s}),this.diffEditor&&this._setModel(this.value,this.original);const o=this._getEditor();o&&o.onDidChangeModelContent(r=>{const i=o.getValue();this.value!==i&&(this.$emit("change",i,r),this.$emit("update:value",i))}),this.$emit("editorDidMount",this.editor)},_setModel(t,e){const{language:n}=this,s=at.createModel(e,n),o=at.createModel(t,n);this.editor.setModel({original:s,modified:o})},_setValue(t){let e=this._getEditor();if(e)return e.setValue(t)},_getValue(){let t=this._getEditor();return t?t.getValue():""},_getEditor(){return this.editor?this.diffEditor?this.editor.modifiedEditor:this.editor:null},_setOriginal(){const{original:t}=this.editor.getModel();t.setValue(this.original)}},watch:{options:{deep:!0,handler(t){this.editor.updateOptions(t)}},value(){this.value!==this._getValue()&&this._setValue(this.value)},original(){this._setOriginal()},language(){if(this.editor)if(this.diffEditor){const{original:t,modified:e}=this.editor.getModel();at.setModelLanguage(t,this.language),at.setModelLanguage(e,this.language)}else at.setModelLanguage(this.editor.getModel(),this.language)},theme(){at.setTheme(this.theme)}}});function vo(t,e,n,s,o,r){return eo(),so("div",{class:"monaco-editor-vue3",style:Ut(t.style)},null,4)}const yt=po(mo,[["render",vo]]);yt.install=t=>{t.component(yt.name,yt)};const yo={class:"mock-sidebar",style:{height:"100%","border-left":"1px solid var(--color-border)",width:"100%"}},wo={class:"config-panel"},Co={class:"panel-header"},bo={class:"panel-title"},_o={class:"form-group"},So={key:0,class:"full-url"},Eo={class:"form-group"},Mo={class:"form-group"},No={class:"timeout-input-container"},Bo={class:"form-group"},Ao={class:"form-label-with-switch"},ko={class:"response-type-switch"},To={key:0,class:"editor-container-pro"},Io={class:"editor-toolbar-simple"},Lo={key:0,class:"editor-error"},Ro={key:1,class:"editor-container-pro"},Po={class:"sticky-actions"},zo=Me({__name:"MockRightSidebar",emits:["submit"],setup(t,{expose:e,emit:n}){const s=Ne(),o=F(null),r=F(!1),i=F(!1),a=F(null),l=F("json");F(3);const c=Be({endpoint:"",response:"",timeout:0,isActive:!0,category:0}),h=F(void 0),T=F(""),p=F(""),g={endpoint:[{required:!0,message:"请输入接口路径",trigger:"blur"}],response:[{required:!0,message:"请输入响应数据",trigger:"blur"}]},M=ke("json"),b=[{label:"默认",value:0},{label:"OrderAuth",value:1},{label:"AAA",value:2},{label:"WAG",value:3},{label:"PS",value:4},{label:"SA",value:5},{label:"TMS",value:6},{label:"第三方",value:7},{label:"others",value:8}],m=Qt(()=>l.value==="text"?c.endpoint.trim()!=="":c.endpoint.trim()!==""&&c.response.trim()!==""&&!p.value);function _(B){return!B||!B.includes("/")?(h.value="error",!1):(h.value="success",!0)}const N=Ae(B=>{if(!B.trim()){p.value="响应数据不能为空";return}try{JSON.parse(B),p.value=""}catch(v){p.value=`JSON 格式错误: ${v.message}`}},300);async function w(){var B;if(m.value){if(i.value=!0,!_(c.endpoint)){i.value=!1;return}if(l.value==="json"&&c.response.trim()!=="")try{const v=JSON.parse(c.response);c.response=JSON.stringify(v)}catch{p.value="请先修复 JSON 错误",i.value=!1;return}try{const v=c.endpoint.startsWith("/")?c.endpoint:`/${c.endpoint}`,I=((B=b.find(St=>St.value===c.category))==null?void 0:B.label)||"默认",P=await mt.post("/bestv/prepare/set",{keyword:v,data:c.response,timeout:c.timeout,typeString:I}),{code:U,msg:_t,data:G}=P.data;U===200?($("submit",{...c,id:a.value,url:G==null?void 0:G.url,success:!0}),r.value||y(),O((G==null?void 0:G.url)||"",3)):s.error(`创建失败: ${_t||"未知错误"}`)}catch(v){console.error("接口创建失败:",v),s.error(`创建失败: ${v instanceof Error?v.message:"网络错误"}`)}finally{i.value=!1}}}function y(){c.endpoint="",c.response="",c.timeout=0,c.isActive=!0,c.category=0,a.value=null,r.value=!1,h.value=void 0,T.value="",p.value="";const B=document.querySelector('input[name="endpoint"]');B instanceof HTMLInputElement&&(B.readOnly=!1),l.value="json"}function k(B){if(l.value==="text"&&B==="json"&&c.response.trim()!=="")try{JSON.parse(c.response)}catch{if(!confirm("当前内容不是有效的JSON，切换后将清空内容。是否继续？"))return;c.response=""}l.value=B,B==="json"&&c.response.trim()!==""?N(c.response):B==="text"&&(p.value="")}function R(B){a.value=B.id||null,c.endpoint=B.endpoint||"",c.timeout=B.timeout||300,c.isActive=!0,c.category=typeof B.category=="number"?B.category:0,c.response=B.response||"";const v=document.querySelector('input[name="endpoint"]');if(v instanceof HTMLInputElement&&(v.readOnly=!0),r.value=!0,_(c.endpoint),c.response)try{JSON.parse(c.response),l.value="json";const I=JSON.parse(c.response);c.response=JSON.stringify(I,null,2),p.value=""}catch{l.value="text",p.value=""}}function O(B,v){let I=v;const P=document.createElement("div");P.style.position="fixed",P.style.top="20px",P.style.left="50%",P.style.transform="translateX(-50%)",P.style.padding="12px 24px",P.style.backgroundColor="rgba(0, 0, 0, 0.85)",P.style.color="white",P.style.borderRadius="8px",P.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.25)",P.style.zIndex="1001",P.style.transition="opacity 0.3s",P.style.fontSize="16px",P.style.fontWeight="500";const U=document.createElement("span");U.innerText=`接口创建成功，${I}秒后自动刷新`,P.appendChild(U),document.body.appendChild(P),setInterval(()=>{I--,I>=0?U.innerText=`接口创建成功，${I}秒后自动刷新`:(P.style.opacity="0",setTimeout(()=>{P.parentNode&&document.body.removeChild(P),window.location.reload()},300))},1e3)}const $=n;return e({resetForm:y,updateForm:R}),(B,v)=>(Q(),nt("aside",yo,[f("div",wo,[f("div",Co,[f("h3",bo,q(r.value?"编辑接口":"创建接口"),1),v[7]||(v[7]=f("p",{class:"panel-subtitle"},"配置接口参数和响应数据",-1))]),S(E(Te),{ref_key:"formRef",ref:o,model:c,rules:g,size:"small",class:"form-container"},{default:C(()=>[f("div",_o,[v[8]||(v[8]=f("div",{class:"form-label"},"接口路径 *",-1)),S(E(zt),{value:c.endpoint,"onUpdate:value":v[0]||(v[0]=I=>c.endpoint=I),placeholder:"/OttService/orderStatus",status:h.value,class:"rounded-input",name:"endpoint"},null,8,["value","status"]),c.endpoint?(Q(),nt("div",So," http://10.215.211.31:9090"+q(c.endpoint.startsWith("/")?"":"/")+q(c.endpoint),1)):Pt("",!0)]),f("div",Eo,[v[9]||(v[9]=f("div",{class:"form-label"},"分类",-1)),S(E(Zt),{value:c.category,"onUpdate:value":v[1]||(v[1]=I=>c.category=I),options:b,placeholder:"选择分类",class:"rounded-input"},null,8,["value"])]),f("div",Mo,[v[11]||(v[11]=f("div",{class:"form-label"},"超时时间",-1)),f("div",No,[mn(f("input",{type:"number","onUpdate:modelValue":v[2]||(v[2]=I=>c.timeout=I),class:"timeout-input-large",min:"0",max:"10000"},null,512),[[vn,c.timeout]]),v[10]||(v[10]=J("   ms "))])]),f("div",Bo,[f("div",Ao,[v[12]||(v[12]=f("span",null,"响应数据",-1)),f("div",ko,[f("div",{class:ot(["switch-option",{active:l.value==="json"}]),onClick:v[3]||(v[3]=I=>k("json"))}," JSON ",2),f("div",{class:ot(["switch-option",{active:l.value==="text"}]),onClick:v[4]||(v[4]=I=>k("text"))}," TXT ",2)])]),l.value==="json"?(Q(),nt("div",To,[f("div",Io,[f("div",{class:ot(["editor-status-pro",{"editor-status-error":p.value}])},[f("div",{class:ot(["status-dot-pro",{"status-dot-error":p.value}])},null,2),J(" "+q(p.value?"格式错误":"JSON格式正确"),1)],2)]),S(E(yt),{value:c.response,"onUpdate:value":[v[5]||(v[5]=I=>c.response=I),E(N)],language:"json",options:E(M),class:"json-editor-pro"},null,8,["value","options","onUpdate:value"]),p.value?(Q(),nt("div",Lo,[S(E(V),{class:"error-icon-pro"},{default:C(()=>v[13]||(v[13]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",fill:"currentColor"})],-1)])),_:1,__:[13]}),f("span",null,q(p.value),1)])):Pt("",!0)])):(Q(),nt("div",Ro,[S(E(zt),{value:c.response,"onUpdate:value":v[6]||(v[6]=I=>c.response=I),type:"textarea",placeholder:"在此输入纯文本响应内容",autosize:{minRows:10,maxRows:15},class:"text-editor"},null,8,["value"])]))])]),_:1},8,["model"]),f("div",Po,[S(E(K),{class:"cancel-btn",onClick:y,round:""},{default:C(()=>v[14]||(v[14]=[J(" 取消 ")])),_:1,__:[14]}),S(E(K),{type:"primary",class:"submit-btn",onClick:w,disabled:!m.value||i.value,loading:i.value,round:""},{default:C(()=>[J(q(r.value?"更新":"创建"),1)]),_:1},8,["disabled","loading"])])])]))}}),be=Ie(zo,[["__scopeId","data-v-c5c1ee05"]]);var ct={},xo=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},je={},H={};let le;const Fo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};H.getSymbolTotalCodewords=function(e){return Fo[e]};H.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};H.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');le=e};H.isKanjiModeEnabled=function(){return typeof le<"u"};H.toSJIS=function(e){return le(e)};var $t={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,o){if(t.isValid(s))return s;try{return e(s)}catch{return o}}})($t);function De(){this.buffer=[],this.length=0}De.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Oo=De;function bt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}bt.prototype.set=function(t,e,n,s){const o=t*this.size+e;this.data[o]=n,s&&(this.reservedBit[o]=!0)};bt.prototype.get=function(t,e){return this.data[t*this.size+e]};bt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};bt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Uo=bt,He={};(function(t){const e=H.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const o=Math.floor(s/7)+2,r=e(s),i=r===145?26:Math.ceil((r-13)/(2*o-2))*2,a=[r-7];for(let l=1;l<o-1;l++)a[l]=a[l-1]-i;return a.push(6),a.reverse()},t.getPositions=function(s){const o=[],r=t.getRowColCoords(s),i=r.length;for(let a=0;a<i;a++)for(let l=0;l<i;l++)a===0&&l===0||a===0&&l===i-1||a===i-1&&l===0||o.push([r[a],r[l]]);return o}})(He);var Ke={};const Vo=H.getSymbolSize,_e=7;Ke.getPositions=function(e){const n=Vo(e);return[[0,0],[n-_e,0],[0,n-_e]]};var qe={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const r=o.size;let i=0,a=0,l=0,c=null,h=null;for(let T=0;T<r;T++){a=l=0,c=h=null;for(let p=0;p<r;p++){let g=o.get(T,p);g===c?a++:(a>=5&&(i+=e.N1+(a-5)),c=g,a=1),g=o.get(p,T),g===h?l++:(l>=5&&(i+=e.N1+(l-5)),h=g,l=1)}a>=5&&(i+=e.N1+(a-5)),l>=5&&(i+=e.N1+(l-5))}return i},t.getPenaltyN2=function(o){const r=o.size;let i=0;for(let a=0;a<r-1;a++)for(let l=0;l<r-1;l++){const c=o.get(a,l)+o.get(a,l+1)+o.get(a+1,l)+o.get(a+1,l+1);(c===4||c===0)&&i++}return i*e.N2},t.getPenaltyN3=function(o){const r=o.size;let i=0,a=0,l=0;for(let c=0;c<r;c++){a=l=0;for(let h=0;h<r;h++)a=a<<1&2047|o.get(c,h),h>=10&&(a===1488||a===93)&&i++,l=l<<1&2047|o.get(h,c),h>=10&&(l===1488||l===93)&&i++}return i*e.N3},t.getPenaltyN4=function(o){let r=0;const i=o.data.length;for(let l=0;l<i;l++)r+=o.data[l];return Math.abs(Math.ceil(r*100/i/5)-10)*e.N4};function n(s,o,r){switch(s){case t.Patterns.PATTERN000:return(o+r)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(o+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return o*r%2+o*r%3===0;case t.Patterns.PATTERN110:return(o*r%2+o*r%3)%2===0;case t.Patterns.PATTERN111:return(o*r%3+(o+r)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(o,r){const i=r.size;for(let a=0;a<i;a++)for(let l=0;l<i;l++)r.isReserved(l,a)||r.xor(l,a,n(o,l,a))},t.getBestMask=function(o,r){const i=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<i;c++){r(c),t.applyMask(c,o);const h=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(c,o),h<l&&(l=h,a=c)}return a}})(qe);var Jt={};const st=$t,At=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jt.getBlocksCount=function(e,n){switch(n){case st.L:return At[(e-1)*4+0];case st.M:return At[(e-1)*4+1];case st.Q:return At[(e-1)*4+2];case st.H:return At[(e-1)*4+3];default:return}};Jt.getTotalCodewordsCount=function(e,n){switch(n){case st.L:return kt[(e-1)*4+0];case st.M:return kt[(e-1)*4+1];case st.Q:return kt[(e-1)*4+2];case st.H:return kt[(e-1)*4+3];default:return}};var Ye={},jt={};const wt=new Uint8Array(512),Ft=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)wt[n]=e,Ft[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)wt[n]=wt[n-255]})();jt.log=function(e){if(e<1)throw new Error("log("+e+")");return Ft[e]};jt.exp=function(e){return wt[e]};jt.mul=function(e,n){return e===0||n===0?0:wt[Ft[e]+Ft[n]]};(function(t){const e=jt;t.mul=function(s,o){const r=new Uint8Array(s.length+o.length-1);for(let i=0;i<s.length;i++)for(let a=0;a<o.length;a++)r[i+a]^=e.mul(s[i],o[a]);return r},t.mod=function(s,o){let r=new Uint8Array(s);for(;r.length-o.length>=0;){const i=r[0];for(let l=0;l<o.length;l++)r[l]^=e.mul(o[l],i);let a=0;for(;a<r.length&&r[a]===0;)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(s){let o=new Uint8Array([1]);for(let r=0;r<s;r++)o=t.mul(o,new Uint8Array([1,e.exp(r)]));return o}})(Ye);const We=Ye;function ae(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ae.prototype.initialize=function(e){this.degree=e,this.genPoly=We.generateECPolynomial(this.degree)};ae.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const s=We.mod(n,this.genPoly),o=this.degree-s.length;if(o>0){const r=new Uint8Array(this.degree);return r.set(s,o),r}return s};var $o=ae,Ge={},lt={},ue={};ue.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var X={};const Qe="[0-9]+",Jo="[A-Z $%*+\\-./:]+";let Ct="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ct=Ct.replace(/u/g,"\\u");const jo="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ct+`)(?:.|[\r
]))+`;X.KANJI=new RegExp(Ct,"g");X.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");X.BYTE=new RegExp(jo,"g");X.NUMERIC=new RegExp(Qe,"g");X.ALPHANUMERIC=new RegExp(Jo,"g");const Do=new RegExp("^"+Ct+"$"),Ho=new RegExp("^"+Qe+"$"),Ko=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");X.testKanji=function(e){return Do.test(e)};X.testNumeric=function(e){return Ho.test(e)};X.testAlphanumeric=function(e){return Ko.test(e)};(function(t){const e=ue,n=X;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,i){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?r.ccBits[0]:i<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return n.testNumeric(r)?t.NUMERIC:n.testAlphanumeric(r)?t.ALPHANUMERIC:n.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits};function s(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(r,i){if(t.isValid(r))return r;try{return s(r)}catch{return i}}})(lt);(function(t){const e=H,n=Jt,s=$t,o=lt,r=ue,i=7973,a=e.getBCHDigit(i);function l(p,g,M){for(let b=1;b<=40;b++)if(g<=t.getCapacity(b,M,p))return b}function c(p,g){return o.getCharCountIndicator(p,g)+4}function h(p,g){let M=0;return p.forEach(function(b){const m=c(b.mode,g);M+=m+b.getBitsLength()}),M}function T(p,g){for(let M=1;M<=40;M++)if(h(p,M)<=t.getCapacity(M,g,o.MIXED))return M}t.from=function(g,M){return r.isValid(g)?parseInt(g,10):M},t.getCapacity=function(g,M,b){if(!r.isValid(g))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=o.BYTE);const m=e.getSymbolTotalCodewords(g),_=n.getTotalCodewordsCount(g,M),N=(m-_)*8;if(b===o.MIXED)return N;const w=N-c(b,g);switch(b){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(g,M){let b;const m=s.from(M,s.M);if(Array.isArray(g)){if(g.length>1)return T(g,m);if(g.length===0)return 1;b=g[0]}else b=g;return l(b.mode,b.getLength(),m)},t.getEncodedBits=function(g){if(!r.isValid(g)||g<7)throw new Error("Invalid QR Code version");let M=g<<12;for(;e.getBCHDigit(M)-a>=0;)M^=i<<e.getBCHDigit(M)-a;return g<<12|M}})(Ge);var Ze={};const ee=H,Xe=1335,qo=21522,Se=ee.getBCHDigit(Xe);Ze.getEncodedBits=function(e,n){const s=e.bit<<3|n;let o=s<<10;for(;ee.getBCHDigit(o)-Se>=0;)o^=Xe<<ee.getBCHDigit(o)-Se;return(s<<10|o)^qo};var tn={};const Yo=lt;function dt(t){this.mode=Yo.NUMERIC,this.data=t.toString()}dt.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};dt.prototype.getLength=function(){return this.data.length};dt.prototype.getBitsLength=function(){return dt.getBitsLength(this.data.length)};dt.prototype.write=function(e){let n,s,o;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),o=parseInt(s,10),e.put(o,10);const r=this.data.length-n;r>0&&(s=this.data.substr(n),o=parseInt(s,10),e.put(o,r*3+1))};var Wo=dt;const Go=lt,Kt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ft(t){this.mode=Go.ALPHANUMERIC,this.data=t}ft.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ft.prototype.getLength=function(){return this.data.length};ft.prototype.getBitsLength=function(){return ft.getBitsLength(this.data.length)};ft.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let s=Kt.indexOf(this.data[n])*45;s+=Kt.indexOf(this.data[n+1]),e.put(s,11)}this.data.length%2&&e.put(Kt.indexOf(this.data[n]),6)};var Qo=ft;const Zo=lt;function ht(t){this.mode=Zo.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}ht.getBitsLength=function(e){return e*8};ht.prototype.getLength=function(){return this.data.length};ht.prototype.getBitsLength=function(){return ht.getBitsLength(this.data.length)};ht.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Xo=ht;const ts=lt,es=H;function gt(t){this.mode=ts.KANJI,this.data=t}gt.getBitsLength=function(e){return e*13};gt.prototype.getLength=function(){return this.data.length};gt.prototype.getBitsLength=function(){return gt.getBitsLength(this.data.length)};gt.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=es.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var ns=gt,en={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,s,o){var r={},i={};i[s]=0;var a=e.PriorityQueue.make();a.push(s,0);for(var l,c,h,T,p,g,M,b,m;!a.empty();){l=a.pop(),c=l.value,T=l.cost,p=n[c]||{};for(h in p)p.hasOwnProperty(h)&&(g=p[h],M=T+g,b=i[h],m=typeof i[h]>"u",(m||b>M)&&(i[h]=M,a.push(h,M),r[h]=c))}if(typeof o<"u"&&typeof i[o]>"u"){var _=["Could not find a path from ",s," to ",o,"."].join("");throw new Error(_)}return r},extract_shortest_path_from_predecessor_list:function(n,s){for(var o=[],r=s;r;)o.push(r),n[r],r=n[r];return o.reverse(),o},find_path:function(n,s,o){var r=e.single_source_shortest_paths(n,s,o);return e.extract_shortest_path_from_predecessor_list(r,o)},PriorityQueue:{make:function(n){var s=e.PriorityQueue,o={},r;n=n||{};for(r in s)s.hasOwnProperty(r)&&(o[r]=s[r]);return o.queue=[],o.sorter=n.sorter||s.default_sorter,o},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var o={value:n,cost:s};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(en);var os=en.exports;(function(t){const e=lt,n=Wo,s=Qo,o=Xo,r=ns,i=X,a=H,l=os;function c(_){return unescape(encodeURIComponent(_)).length}function h(_,N,w){const y=[];let k;for(;(k=_.exec(w))!==null;)y.push({data:k[0],index:k.index,mode:N,length:k[0].length});return y}function T(_){const N=h(i.NUMERIC,e.NUMERIC,_),w=h(i.ALPHANUMERIC,e.ALPHANUMERIC,_);let y,k;return a.isKanjiModeEnabled()?(y=h(i.BYTE,e.BYTE,_),k=h(i.KANJI,e.KANJI,_)):(y=h(i.BYTE_KANJI,e.BYTE,_),k=[]),N.concat(w,y,k).sort(function(O,$){return O.index-$.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function p(_,N){switch(N){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return s.getBitsLength(_);case e.KANJI:return r.getBitsLength(_);case e.BYTE:return o.getBitsLength(_)}}function g(_){return _.reduce(function(N,w){const y=N.length-1>=0?N[N.length-1]:null;return y&&y.mode===w.mode?(N[N.length-1].data+=w.data,N):(N.push(w),N)},[])}function M(_){const N=[];for(let w=0;w<_.length;w++){const y=_[w];switch(y.mode){case e.NUMERIC:N.push([y,{data:y.data,mode:e.ALPHANUMERIC,length:y.length},{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.ALPHANUMERIC:N.push([y,{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.KANJI:N.push([y,{data:y.data,mode:e.BYTE,length:c(y.data)}]);break;case e.BYTE:N.push([{data:y.data,mode:e.BYTE,length:c(y.data)}])}}return N}function b(_,N){const w={},y={start:{}};let k=["start"];for(let R=0;R<_.length;R++){const O=_[R],$=[];for(let B=0;B<O.length;B++){const v=O[B],I=""+R+B;$.push(I),w[I]={node:v,lastCount:0},y[I]={};for(let P=0;P<k.length;P++){const U=k[P];w[U]&&w[U].node.mode===v.mode?(y[U][I]=p(w[U].lastCount+v.length,v.mode)-p(w[U].lastCount,v.mode),w[U].lastCount+=v.length):(w[U]&&(w[U].lastCount=v.length),y[U][I]=p(v.length,v.mode)+4+e.getCharCountIndicator(v.mode,N))}}k=$}for(let R=0;R<k.length;R++)y[k[R]].end=0;return{map:y,table:w}}function m(_,N){let w;const y=e.getBestModeForData(_);if(w=e.from(N,y),w!==e.BYTE&&w.bit<y.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(y));switch(w===e.KANJI&&!a.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new s(_);case e.KANJI:return new r(_);case e.BYTE:return new o(_)}}t.fromArray=function(N){return N.reduce(function(w,y){return typeof y=="string"?w.push(m(y,null)):y.data&&w.push(m(y.data,y.mode)),w},[])},t.fromString=function(N,w){const y=T(N,a.isKanjiModeEnabled()),k=M(y),R=b(k,w),O=l.find_path(R.map,"start","end"),$=[];for(let B=1;B<O.length-1;B++)$.push(R.table[O[B]].node);return t.fromArray(g($))},t.rawSplit=function(N){return t.fromArray(T(N,a.isKanjiModeEnabled()))}})(tn);const Dt=H,qt=$t,ss=Oo,rs=Uo,is=He,ls=Ke,ne=qe,oe=Jt,as=$o,Ot=Ge,us=Ze,cs=lt,Yt=tn;function ds(t,e){const n=t.size,s=ls.getPositions(e);for(let o=0;o<s.length;o++){const r=s[o][0],i=s[o][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||n<=r+a))for(let l=-1;l<=7;l++)i+l<=-1||n<=i+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(r+a,i+l,!0,!0):t.set(r+a,i+l,!1,!0))}}function fs(t){const e=t.size;for(let n=8;n<e-8;n++){const s=n%2===0;t.set(n,6,s,!0),t.set(6,n,s,!0)}}function hs(t,e){const n=is.getPositions(e);for(let s=0;s<n.length;s++){const o=n[s][0],r=n[s][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?t.set(o+i,r+a,!0,!0):t.set(o+i,r+a,!1,!0)}}function gs(t,e){const n=t.size,s=Ot.getEncodedBits(e);let o,r,i;for(let a=0;a<18;a++)o=Math.floor(a/3),r=a%3+n-8-3,i=(s>>a&1)===1,t.set(o,r,i,!0),t.set(r,o,i,!0)}function Wt(t,e,n){const s=t.size,o=us.getEncodedBits(e,n);let r,i;for(r=0;r<15;r++)i=(o>>r&1)===1,r<6?t.set(r,8,i,!0):r<8?t.set(r+1,8,i,!0):t.set(s-15+r,8,i,!0),r<8?t.set(8,s-r-1,i,!0):r<9?t.set(8,15-r-1+1,i,!0):t.set(8,15-r-1,i,!0);t.set(s-8,8,1,!0)}function ps(t,e){const n=t.size;let s=-1,o=n-1,r=7,i=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(o,a-l)){let c=!1;i<e.length&&(c=(e[i]>>>r&1)===1),t.set(o,a-l,c),r--,r===-1&&(i++,r=7)}if(o+=s,o<0||n<=o){o-=s,s=-s;break}}}function ms(t,e,n){const s=new ss;n.forEach(function(l){s.put(l.mode.bit,4),s.put(l.getLength(),cs.getCharCountIndicator(l.mode,t)),l.write(s)});const o=Dt.getSymbolTotalCodewords(t),r=oe.getTotalCodewordsCount(t,e),i=(o-r)*8;for(s.getLengthInBits()+4<=i&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const a=(i-s.getLengthInBits())/8;for(let l=0;l<a;l++)s.put(l%2?17:236,8);return vs(s,t,e)}function vs(t,e,n){const s=Dt.getSymbolTotalCodewords(e),o=oe.getTotalCodewordsCount(e,n),r=s-o,i=oe.getBlocksCount(e,n),a=s%i,l=i-a,c=Math.floor(s/i),h=Math.floor(r/i),T=h+1,p=c-h,g=new as(p);let M=0;const b=new Array(i),m=new Array(i);let _=0;const N=new Uint8Array(t.buffer);for(let O=0;O<i;O++){const $=O<l?h:T;b[O]=N.slice(M,M+$),m[O]=g.encode(b[O]),M+=$,_=Math.max(_,$)}const w=new Uint8Array(s);let y=0,k,R;for(k=0;k<_;k++)for(R=0;R<i;R++)k<b[R].length&&(w[y++]=b[R][k]);for(k=0;k<p;k++)for(R=0;R<i;R++)w[y++]=m[R][k];return w}function ys(t,e,n,s){let o;if(Array.isArray(t))o=Yt.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const h=Yt.rawSplit(t);c=Ot.getBestVersionForData(h,n)}o=Yt.fromString(t,c||40)}else throw new Error("Invalid data");const r=Ot.getBestVersionForData(o,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const i=ms(e,n,o),a=Dt.getSymbolSize(e),l=new rs(a);return ds(l,e),fs(l),hs(l,e),Wt(l,n,0),e>=7&&gs(l,e),ps(l,i),isNaN(s)&&(s=ne.getBestMask(l,Wt.bind(null,l,n))),ne.applyMask(s,l),Wt(l,n,s),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:s,segments:o}}je.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let s=qt.M,o,r;return typeof n<"u"&&(s=qt.from(n.errorCorrectionLevel,qt.M),o=Ot.from(n.version),r=ne.from(n.maskPattern),n.toSJISFunc&&Dt.setToSJISFunction(n.toSJISFunc)),ys(e,o,s,r)};var nn={},ce={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(r){return[r,r]}))),s.length===6&&s.push("F","F");const o=parseInt(s.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const o=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,r=s.width&&s.width>=21?s.width:void 0,i=s.scale||4;return{width:r,scale:r?4:i,margin:o,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,o){return o.width&&o.width>=s+o.margin*2?o.width/(s+o.margin*2):o.scale},t.getImageWidth=function(s,o){const r=t.getScale(s,o);return Math.floor((s+o.margin*2)*r)},t.qrToImageData=function(s,o,r){const i=o.modules.size,a=o.modules.data,l=t.getScale(i,r),c=Math.floor((i+r.margin*2)*l),h=r.margin*l,T=[r.color.light,r.color.dark];for(let p=0;p<c;p++)for(let g=0;g<c;g++){let M=(p*c+g)*4,b=r.color.light;if(p>=h&&g>=h&&p<c-h&&g<c-h){const m=Math.floor((p-h)/l),_=Math.floor((g-h)/l);b=T[a[m*i+_]?1:0]}s[M++]=b.r,s[M++]=b.g,s[M++]=b.b,s[M]=b.a}}})(ce);(function(t){const e=ce;function n(o,r,i){o.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=i,r.width=i,r.style.height=i+"px",r.style.width=i+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(r,i,a){let l=a,c=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(c=s()),l=e.getOptions(l);const h=e.getImageWidth(r.modules.size,l),T=c.getContext("2d"),p=T.createImageData(h,h);return e.qrToImageData(p.data,r,l),n(T,c,h),T.putImageData(p,0,0),c},t.renderToDataURL=function(r,i,a){let l=a;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const c=t.render(r,i,l),h=l.type||"image/png",T=l.rendererOpts||{};return c.toDataURL(h,T.quality)}})(nn);var on={};const ws=ce;function Ee(t,e){const n=t.a/255,s=e+'="'+t.hex+'"';return n<1?s+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function Gt(t,e,n){let s=t+e;return typeof n<"u"&&(s+=" "+n),s}function Cs(t,e,n){let s="",o=0,r=!1,i=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!r&&(r=!0),t[a]?(i++,a>0&&l>0&&t[a-1]||(s+=r?Gt("M",l+n,.5+c+n):Gt("m",o,0),o=0,r=!1),l+1<e&&t[a+1]||(s+=Gt("h",i),i=0)):o++}return s}on.render=function(e,n,s){const o=ws.getOptions(n),r=e.modules.size,i=e.modules.data,a=r+o.margin*2,l=o.color.light.a?"<path "+Ee(o.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Ee(o.color.dark,"stroke")+' d="'+Cs(i,r,o.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof s=="function"&&s(null,p),p};const bs=xo,se=je,sn=nn,_s=on;function de(t,e,n,s,o){const r=[].slice.call(arguments,1),i=r.length,a=typeof r[i-1]=="function";if(!a&&!bs())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(o=n,n=e,e=s=void 0):i===3&&(e.getContext&&typeof o>"u"?(o=s,s=void 0):(o=s,s=n,n=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(n=e,e=s=void 0):i===2&&!e.getContext&&(s=n,n=e,e=void 0),new Promise(function(l,c){try{const h=se.create(n,s);l(t(h,e,s))}catch(h){c(h)}})}try{const l=se.create(n,s);o(null,t(l,e,s))}catch(l){o(l)}}ct.create=se.create;ct.toCanvas=de.bind(null,sn.render);ct.toDataURL=de.bind(null,sn.renderToDataURL);ct.toString=de.bind(null,function(t,e,n){return _s.render(t,n)});const Ss={class:"mock-service-container"},Es={class:"list-header"},Ms={class:"list-actions"},Ns={class:"success-content"},Bs={class:"mock-url-container"},As={class:"mock-url"},ks={class:"qrcode-container"},Ts={class:"modal-container"},Is={class:"modal-body-pro"},Ls={class:"left-column"},Rs={class:"section-header"},Ps={class:"endpoint-preview-pro"},zs={class:"endpoint-input-icon"},xs={class:"endpoint-content"},Fs={class:"endpoint-url"},Os={class:"endpoint-path"},Us={class:"input-wrapper category-wrapper"},Vs={class:"input-icon"},$s={class:"input-wrapper"},Js={class:"input-icon"},js={class:"right-column"},Ds={class:"section-header"},Hs={class:"response-type-switch"},Ks={key:0,class:"editor-container-pro"},qs={class:"editor-toolbar"},Ys={class:"editor-actions-pro"},Ws={key:0,class:"editor-error"},Gs={key:1,class:"editor-container-pro"},Qs={class:"modal-footer-pro"},Zs=!1,Xs=Me({__name:"MockService",setup(t){const e=Ne(),n=F([]),s=F(!1),o=F(""),r=F(null),i=F([]),a=F(null),l=F(!1),c=F(!1),h=F(""),T=F(null),p=F(!1),g=F(""),M=F(null),b=F("json"),m=Be({id:"",endpoint:"",response:"",timeout:0,isActive:!0,category:0,createdAt:0,lastModified:0}),_=ke("json"),N={response:[{required:!0,message:"请输入响应数据",trigger:"blur"}]},w=Qt(()=>b.value==="text"?m.response.trim()!=="":m.response.trim()!==""&&!g.value),y=[{label:"默认",value:0},{label:"OrderAuth",value:1},{label:"AAA",value:2},{label:"WAG",value:3},{label:"PS",value:4},{label:"SA",value:5},{label:"TMS",value:6},{label:"第三方",value:7},{label:"others",value:8}],k={0:{color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.1)"},1:{color:"#3B82F6",bgColor:"rgba(59, 130, 246, 0.1)"},2:{color:"#F97316",bgColor:"rgba(249, 115, 22, 0.1)"},3:{color:"#10B981",bgColor:"rgba(16, 185, 129, 0.1)"},4:{color:"#F43F5E",bgColor:"rgba(244, 63, 94, 0.1)"},5:{color:"#6366F1",bgColor:"rgba(99, 102, 241, 0.1)"},6:{color:"#14B8A6",bgColor:"rgba(20, 184, 166, 0.1)"},7:{color:"#F59E0B",bgColor:"rgba(245, 158, 11, 0.1)"},8:{color:"#64748B",bgColor:"rgba(100, 116, 139, 0.1)"}},R=Qt(()=>{let d=n.value;return o.value&&(d=d.filter(u=>u.endpoint.toLowerCase().includes(o.value.toLowerCase()))),d=d.filter(u=>u.isActive),r.value!==null&&r.value!==void 0&&(d=d.filter(u=>u.category===r.value)),d}),O=[{type:"expand",expandable:()=>!0,renderExpand:I},{title:"分类",key:"category",width:100,render(d){const u=d.category!==void 0?d.category:0,L=k[u]||k[0];return x(bn,{bordered:!1,size:"small",style:{backgroundColor:L.bgColor,color:L.color}},{default:()=>{var z;return((z=y.find(D=>D.value===u))==null?void 0:z.label)||u.toString()}})}},{title:"接口路径",key:"endpoint",render(d){return x("div",{class:"endpoint-cell"},[x("span",{class:"base-url"},"http://10.215.211.31:9090"),x("span",{class:`endpoint-path ${d.isActive?"":"inactive-api"}`},d.endpoint)])}},{title:"超时",key:"timeout",width:140,render(d){return`${d.timeout}ms`}},{title:"操作",key:"actions",width:220,fixed:"right",render(d){return x(Sn,{justify:"center"},[x(K,{size:"small",quaternary:!0,onClick:()=>P(d)},{default:()=>"编辑",icon:()=>x(V,null,{default:()=>x("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none"},[x("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"})])})}),x(K,{size:"small",quaternary:!0,onClick:()=>U(d)},{default:()=>"复制",icon:()=>x(V,null,{default:()=>x("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none"},[x("path",{d:"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z",fill:"currentColor"})])})}),x(_n,{onPositiveClick:()=>_t(d.id),positiveText:"确认",negativeText:"取消"},{trigger:()=>x(K,{size:"small",quaternary:!0,type:"error"},{default:()=>"删除",icon:()=>x(V,null,{default:()=>x("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none"},[x("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})])})}),default:()=>"确定要删除这个配置吗？"})])}}];function $(d){return d.id}function B(d){return{style:d.isActive?"":"opacity: 0.6",class:"mock-table-row"}}function v(d){i.value=d}function I(d){const u=hn(d.response);return x("div",{class:"expanded-row"},[x("div",{class:"expanded-content simplified"},[u?x("div",{class:"json-preview-simple clickable",onClick:()=>Et(d.response)},[x(En,{language:"json",code:fn(d.response),class:"json-code"})]):x("div",{class:"text-preview-simple clickable",onClick:()=>Et(d.response)},[x("pre",{class:"text-content"},d.response)])])])}function P(d){if(a.value=d.id,Object.assign(m,d),m.response)try{JSON.parse(m.response),b.value="json";const u=JSON.parse(m.response);m.response=JSON.stringify(u,null,2),g.value=""}catch{b.value="text",g.value=""}c.value=!0}function U(d){const u=`http://10.215.211.31:9090${d.endpoint.startsWith("/")?"":"/"}${d.endpoint}`;Et(u)}async function _t(d){const u=n.value.findIndex(L=>L.id===d);if(u!==-1){const L=n.value[u],j=G(L.endpoint);try{const z=await mt.post("/bestv/prepare/remove",{keyword:j,data:"",timeout:0}),{code:D,msg:A}=z.data;if(D===200){if(n.value.splice(u,1),e.success("已成功删除"),a.value===d){a.value=null;const tt=be;typeof tt.resetForm=="function"&&tt.resetForm()}}else e.error(`删除失败: ${A||"未知错误"}`)}catch(z){console.error("删除失败:",z),e.error(`删除失败: ${z instanceof Error?z.message:"网络错误"}`)}}}function G(d){return d.startsWith("/")?d:`/${d}`}async function St(){s.value=!0;try{const d=await mt.get("/bestv/prepare/queryAll"),{code:u,msg:L,data:j}=d.data;u===200&&Array.isArray(j)?n.value=j.map((z,D)=>{const A=z.keyword||rn(z.mockUrl),tt=z.statusString==="活跃";let Y=0;switch(z.typeString){case"OrderAuth":Y=1;break;case"AAA":Y=2;break;case"WAG":Y=3;break;case"PS":Y=4;break;case"SA":Y=5;break;case"TMS":Y=6;break;case"第三方":Y=7;break;case"others":Y=8;break}const et=new Date(z.updateDt).getTime()||Date.now();return{id:(D+1).toString(),endpoint:A,response:z.mockBody||"",timeout:z.timeout,isActive:tt,category:Y,createdAt:et,lastModified:et,callCount:0}}):e.error(`加载失败: ${L||"未知错误"}`)}catch(d){console.error("加载Mock数据失败:",d),e.error(`加载失败: ${d instanceof Error?d.message:"网络错误"}`)}finally{s.value=!1}}function rn(d){try{return new URL(d).pathname}catch{return d}}const Ht=Ae(d=>{if(!d.trim()){g.value="响应数据不能为空";return}try{JSON.parse(d),g.value=""}catch(u){g.value=`JSON 格式错误: ${u.message}`}},300);function ln(){try{const d=JSON.parse(m.response);m.response=JSON.stringify(d,null,2),g.value=""}catch{}}function an(){try{const d=JSON.parse(m.response);m.response=JSON.stringify(d),g.value=""}catch{}}function un(){const d=[{code:200,message:"success",data:{id:1001,name:"Sample Product",price:99.99,inStock:!0}},{code:200,message:"success",data:{id:"user-123",name:"John Doe",email:"john@example.com",roles:["admin","user"]}},{code:200,message:"success",data:{items:[{id:1,name:"Item 1"},{id:2,name:"Item 2"},{id:3,name:"Item 3"}],pagination:{total:100,page:1,pageSize:10}}}],u=d[Math.floor(Math.random()*d.length)];m.response=JSON.stringify(u,null,2),Ht(m.response)}function fe(){c.value=!1,g.value="",a.value=null}async function cn(){var d;if(w.value){if(p.value=!0,b.value==="json"&&m.response.trim()!=="")try{const u=JSON.parse(m.response);m.response=JSON.stringify(u)}catch{g.value="请先修复 JSON 错误",p.value=!1;return}try{const u=((d=y.find(A=>A.value===m.category))==null?void 0:d.label)||"默认",L=G(m.endpoint),j=await mt.post("/bestv/prepare/update",{keyword:L,data:m.response,timeout:m.timeout,typeString:u}),{code:z,msg:D}=j.data;if(z===200){const A=n.value.findIndex(tt=>tt.id===a.value);A!==-1&&(n.value[A].response=m.response,n.value[A].timeout=m.timeout,n.value[A].category=m.category,n.value[A].isActive=!0,n.value[A].lastModified=Date.now()),e.success("接口更新成功"),fe(),Mt()}else e.error(`更新失败: ${D||"未知错误"}`)}catch(u){console.error("更新失败:",u),e.error(`更新失败: ${u instanceof Error?u.message:"网络错误"}`)}finally{p.value=!1}}}async function dn(d){var u;if(d.success&&d.url){h.value=d.url,l.value=!0,ye(()=>{T.value&&ct.toCanvas(T.value,h.value,{width:150,margin:0,color:{dark:"#1890FF",light:"#ffffff"}},L=>{L&&console.error("QR Code error:",L)})}),Mt();return}if(a.value){const L=n.value.findIndex(j=>j.id===a.value);L!==-1&&(n.value[L]={...n.value[L],...d,lastModified:Date.now()},e.success("接口更新成功"))}else try{const L=d.endpoint||"",j=G(L),z=typeof d.category=="number"?d.category:0,D=((u=y.find(et=>et.value===z))==null?void 0:u.label)||"默认",A=await mt.post("/bestv/prepare/save",{keyword:j,data:d.response||"",timeout:d.timeout||0,typeString:D}),{code:tt,msg:Y}=A.data;if(tt===200){const et={id:Date.now().toString(),endpoint:L,response:d.response||"",timeout:d.timeout||0,isActive:!0,category:z,createdAt:Date.now(),lastModified:Date.now(),callCount:0};n.value.unshift(et),h.value=`http://10.215.211.31:9090${et.endpoint.startsWith("/")?"":"/"}${et.endpoint}`,l.value=!0,ye(()=>{T.value&&ct.toCanvas(T.value,h.value,{width:150,margin:0,color:{dark:"#1890FF",light:"#ffffff"}},pe=>{pe&&console.error("QR Code error:",pe)})}),Mt()}else e.error(`创建失败: ${Y||"未知错误"}`)}catch(L){console.error("创建失败:",L),e.error(`创建失败: ${L instanceof Error?L.message:"网络错误"}`)}a.value=null}function fn(d){try{const u=JSON.parse(d);return JSON.stringify(u,null,2)}catch{return d}}function Et(d){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(d).then(()=>e.success("已复制到剪贴板")).catch(()=>{he(d)}):he(d)}function he(d){try{const u=document.createElement("textarea");u.value=d,u.style.position="fixed",u.style.left="-999999px",u.style.top="-999999px",document.body.appendChild(u),u.focus(),u.select();const L=document.execCommand("copy");document.body.removeChild(u),L?e.success("已复制到剪贴板"):e.error("复制失败")}catch(u){e.error("复制失败: "+u)}}me(n,()=>{document.querySelectorAll(".mock-table-row").forEach(d=>{d.classList.add("row-updated"),setTimeout(()=>d.classList.remove("row-updated"),1e3)})},{deep:!0}),yn(()=>{St()}),me(n,d=>{localStorage.setItem("mockConfigs",JSON.stringify(d))},{deep:!0});function ge(d){if(b.value==="text"&&d==="json"&&m.response.trim()!=="")try{JSON.parse(m.response)}catch{if(!confirm("当前内容不是有效的JSON，切换后将清空内容。是否继续？"))return;m.response=""}b.value=d,d==="json"&&m.response.trim()!==""?Ht(m.response):d==="text"&&(g.value="")}function hn(d){if(!d)return!1;try{return JSON.parse(d),!0}catch{return!1}}function Mt(){o.value="",r.value=null,St()}return(d,u)=>{const L=Nt("n-data-table"),j=Nt("n-card"),z=Nt("n-modal"),D=Nt("n-tooltip");return Q(),ve(pn,{rightSidebar:be,onSubmit:dn},{default:C(()=>[f("div",Ss,[u[38]||(u[38]=f("div",{class:"header-container"},[f("div",null,[f("h1",{class:"page-title"},"Mock Service"),f("p",{class:"page-subtitle"},"配置接口，模拟数据响应")])],-1)),S(j,{class:"interface-list-card"},{header:C(()=>[f("div",Es,[u[14]||(u[14]=f("h2",{class:"list-title"},"接口列表",-1)),f("div",Ms,[S(E(zt),{value:o.value,"onUpdate:value":u[0]||(u[0]=A=>o.value=A),placeholder:"搜索接口路径...",class:"search-input",round:"",clearable:""},{prefix:C(()=>[S(E(V),null,{default:C(()=>u[11]||(u[11]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"currentColor"})],-1)])),_:1,__:[11]})]),_:1},8,["value"]),S(E(Zt),{value:r.value,"onUpdate:value":u[1]||(u[1]=A=>r.value=A),placeholder:"分类",options:y,style:{width:"120px"},clearable:"",class:"category-filter"},null,8,["value"]),S(E(K),{quaternary:"",size:"small",onClick:Mt},{icon:C(()=>[S(E(V),null,{default:C(()=>u[12]||(u[12]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"})],-1)])),_:1,__:[12]})]),default:C(()=>[u[13]||(u[13]=J(" 刷新 "))]),_:1,__:[13]})])])]),default:C(()=>[S(L,{columns:O,data:R.value,pagination:Zs,bordered:!1,"row-key":$,"row-props":B,"expanded-row-keys":i.value,"onUpdate:expandedRowKeys":v,class:"interface-table","virtual-scroll":"","empty-text":"暂无接口配置"},null,8,["data","expanded-row-keys"])]),_:1}),S(z,{show:l.value,"onUpdate:show":u[3]||(u[3]=A=>l.value=A),preset:"card",title:"接口创建成功",class:"success-modal"},{default:C(()=>[f("div",Ns,[S(E(wn),{status:"success",title:"接口已成功创建",description:"您可以通过以下地址访问该接口"},{footer:C(()=>[f("div",Bs,[f("div",As,q(h.value),1),S(E(K),{size:"small",type:"primary",onClick:u[2]||(u[2]=A=>Et(h.value))},{icon:C(()=>[S(E(V),null,{default:C(()=>u[15]||(u[15]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V17M8 5C8 6.10457 8.89543 7 10 7H12C13.1046 7 14 6.10457 14 5M8 5C8 3.89543 8.89543 3 10 3H12C13.1046 3 14 3.89543 14 5M14 5H16C17.1046 5 18 5.89543 18 7V10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[15]})]),default:C(()=>[u[16]||(u[16]=J(" 复制 "))]),_:1,__:[16]})]),f("div",ks,[f("canvas",{ref_key:"qrcodeContainer",ref:T},null,512)])]),_:1})])]),_:1},8,["show"]),S(z,{show:c.value,"onUpdate:show":u[10]||(u[10]=A=>c.value=A),preset:"dialog",class:"edit-modal-pro","show-icon":!1,style:{width:"1100px","max-width":"98vw"}},{default:C(()=>[f("div",Ts,[f("div",Is,[S(E(Te),{ref_key:"editFormRef",ref:M,model:m,rules:N,class:"edit-form-pro"},{default:C(()=>[f("div",Ls,[f("div",Rs,[S(E(V),{class:"section-icon"},{default:C(()=>u[17]||(u[17]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",fill:"currentColor"})],-1)])),_:1,__:[17]}),u[18]||(u[18]=f("h4",null,"接口配置",-1))]),S(E(Bt),{label:"接口路径",path:"endpoint"},{default:C(()=>[f("div",Ps,[f("div",zs,[S(E(V),null,{default:C(()=>u[19]||(u[19]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h14c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm.5 14c0 .28-.22.5-.5.5H5c-.28 0-.5-.22-.5-.5V6c0-.28.22-.5.5-.5h14c.28 0 .5.22.5.5v12zM7 13h2v2H7zm0-7h10v2H7zm3 4h7v2h-7zm0 4h4v2h-4z",fill:"currentColor"})],-1)])),_:1,__:[19]})]),f("div",xs,[f("div",Fs,[u[20]||(u[20]=f("span",{class:"endpoint-base"},"http://10.215.211.31:9090",-1)),f("span",Os,q(m.endpoint.startsWith("/")?"":"/")+q(m.endpoint),1)])])])]),_:1}),S(E(Bt),{label:"接口分类",path:"category"},{default:C(()=>[f("div",Us,[f("div",Vs,[S(E(V),null,{default:C(()=>u[21]||(u[21]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7a2.5 2.5 0 010-5 2.5 2.5 0 010 5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z",fill:"currentColor"})],-1)])),_:1,__:[21]})]),S(E(Zt),{value:m.category,"onUpdate:value":u[4]||(u[4]=A=>m.category=A),options:y,placeholder:"选择分类",class:"category-select-pro"},null,8,["value"])])]),_:1}),S(E(Bt),{label:"超时时间",path:"timeout"},{default:C(()=>[f("div",$s,[f("div",Js,[S(E(V),null,{default:C(()=>u[22]||(u[22]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z",fill:"currentColor"}),f("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z",fill:"currentColor"})],-1)])),_:1,__:[22]})]),S(E(Cn),{value:m.timeout,"onUpdate:value":u[5]||(u[5]=A=>m.timeout=A),class:"timeout-input-pro",min:0,max:1e4,placeholder:"超时时间"},{suffix:C(()=>u[23]||(u[23]=[f("span",{class:"input-suffix"},"毫秒",-1)])),_:1},8,["value"])])]),_:1})]),f("div",js,[f("div",Ds,[S(E(V),{class:"section-icon"},{default:C(()=>u[24]||(u[24]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",fill:"currentColor"})],-1)])),_:1,__:[24]}),u[25]||(u[25]=f("h4",null,"响应数据",-1)),f("div",Hs,[f("div",{class:ot(["switch-option",{active:b.value==="json"}]),onClick:u[6]||(u[6]=A=>ge("json"))}," JSON ",2),f("div",{class:ot(["switch-option",{active:b.value==="text"}]),onClick:u[7]||(u[7]=A=>ge("text"))}," TXT ",2)])]),S(E(Bt),{path:"response",class:"editor-form-item"},{default:C(()=>[b.value==="json"?(Q(),nt("div",Ks,[f("div",qs,[f("div",{class:ot(["editor-status-pro",{"editor-status-error":g.value}])},[f("div",{class:ot(["status-dot-pro",{"status-dot-error":g.value}])},null,2),J(" "+q(g.value?"格式错误":"JSON格式正确"),1)],2),f("div",Ys,[S(D,{trigger:"hover",placement:"top"},{trigger:C(()=>[S(E(K),{secondary:"",size:"small",onClick:ln,disabled:!!g.value},{icon:C(()=>[S(E(V),null,{default:C(()=>u[26]||(u[26]=[f("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z",fill:"currentColor"})],-1)])),_:1,__:[26]})]),default:C(()=>[u[27]||(u[27]=J(" 格式化 "))]),_:1,__:[27]},8,["disabled"])]),default:C(()=>[u[28]||(u[28]=J(" 格式化JSON数据 "))]),_:1,__:[28]}),S(D,{trigger:"hover",placement:"top"},{trigger:C(()=>[S(E(K),{secondary:"",size:"small",onClick:an,disabled:!!g.value},{icon:C(()=>[S(E(V),null,{default:C(()=>u[29]||(u[29]=[f("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M19.89 10.105C19.9697 10.1842 20.0097 10.2899 20 10.4V17.5C20 19.433 18.433 21 16.5 21H7.5C5.567 21 4 19.433 4 17.5V6.5C4 4.567 5.567 3 7.5 3H16.5C18.433 3 20 4.567 20 6.5V6.6C20.0097 6.71009 19.9697 6.81575 19.89 6.895L15.5 11.295C15.3946 11.4004 15.2516 11.4602 15.1 11.46C14.9484 11.4598 14.8054 11.3996 14.7 11.294L12.5 9.095L10.294 11.3C10.1889 11.4058 10.0457 11.4663 9.894 11.4666C9.74228 11.4669 9.59879 11.407 9.493 11.302L9.489 11.298L8.995 10.804L8.989 10.798C8.88583 10.6916 8.82669 10.5499 8.8266 10.4008C8.82651 10.2516 8.88547 10.1098 8.989 10.0034L8.995 9.997L11.202 7.79L11.208 7.784C11.3144 7.67839 11.456 7.61925 11.605 7.61916C11.7541 7.61906 11.8958 7.67803 12.002 7.784L12.008 7.79L14.2 10L17.982 6.217L17.988 6.211C18.0947 6.10437 18.2366 6.04524 18.386 6.04516C18.5353 6.04507 18.6773 6.104 18.784 6.21L19.89 10.105Z",fill:"currentColor"})],-1)])),_:1,__:[29]})]),default:C(()=>[u[30]||(u[30]=J(" 压缩 "))]),_:1,__:[30]},8,["disabled"])]),default:C(()=>[u[31]||(u[31]=J(" 压缩JSON数据 "))]),_:1,__:[31]}),S(D,{trigger:"hover",placement:"top"},{trigger:C(()=>[S(E(K),{secondary:"",size:"small",onClick:un},{icon:C(()=>[S(E(V),null,{default:C(()=>u[32]||(u[32]=[f("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-4h2v4zm0-6h-2V7h2v4z",fill:"currentColor"})],-1)])),_:1,__:[32]})]),default:C(()=>[u[33]||(u[33]=J(" 生成示例 "))]),_:1,__:[33]})]),default:C(()=>[u[34]||(u[34]=J(" 生成示例JSON数据 "))]),_:1,__:[34]})])]),S(E(yt),{value:m.response,"onUpdate:value":[u[8]||(u[8]=A=>m.response=A),E(Ht)],language:"json",options:E(_),class:"json-editor-pro"},null,8,["value","options","onUpdate:value"]),g.value?(Q(),nt("div",Ws,[S(E(V),{class:"error-icon-pro"},{default:C(()=>u[35]||(u[35]=[f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",fill:"currentColor"})],-1)])),_:1,__:[35]}),f("span",null,q(g.value),1)])):Pt("",!0)])):(Q(),nt("div",Gs,[S(E(zt),{value:m.response,"onUpdate:value":u[9]||(u[9]=A=>m.response=A),type:"textarea",placeholder:"在此输入纯文本响应内容",autosize:{minRows:15,maxRows:20},class:"text-editor"},null,8,["value"])]))]),_:1})])]),_:1},8,["model"])]),f("div",Qs,[S(E(K),{class:"cancel-btn-pro",onClick:fe},{default:C(()=>u[36]||(u[36]=[J(" 取消 ")])),_:1,__:[36]}),S(E(K),{type:"primary",class:"submit-btn-pro",onClick:cn,disabled:!w.value||p.value,loading:p.value},{icon:C(()=>[p.value?Pt("",!0):(Q(),ve(E(V),{key:0},{default:C(()=>u[37]||(u[37]=[f("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[f("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z",fill:"currentColor"})],-1)])),_:1,__:[37]}))]),default:C(()=>[J(q(p.value?"更新中...":"保存更新")+" ",1)]),_:1},8,["disabled","loading"])])])]),_:1},8,["show"])])]),_:1})}}}),sr=Ie(Xs,[["__scopeId","data-v-ad267461"]]);export{sr as default};
